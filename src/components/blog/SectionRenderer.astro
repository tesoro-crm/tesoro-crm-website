---
/**
 * Section Renderer - Maps section types to generic components
 * Generic blokkendoos system for flexible blog content
 */
import type { Section, Language } from '../../types/blog';
import TextSection from './sections/TextSection.astro';
import CalloutSection from './sections/CalloutSection.astro';
import StatsGridSection from './sections/StatsGridSection.astro';
import ComparisonSection from './sections/ComparisonSection.astro';
import StepsSection from './sections/StepsSection.astro';
import VideoSection from './sections/VideoSection.astro';
import QuoteSection from './sections/QuoteSection.astro';
import CTASection from './sections/CTASection.astro';

interface Props {
  section: Section;
  lang: Language;
}

const { section, lang } = Astro.props;

// Map section types to generic components
const componentMap = {
  // Generic components
  text: TextSection,
  callout: CalloutSection,
  stats: StatsGridSection,
  comparison: ComparisonSection,
  steps: StepsSection,
  video: VideoSection,
  quote: QuoteSection,
  cta: CTASection,
  
  // Backwards compatibility (old names)
  introduction: TextSection,
  problem: TextSection,
  solution: TextSection,
  takeaways: TextSection,
  highlights: CalloutSection,
  results: StatsGridSection,
  'results-cards': StatsGridSection,
};

const Component = componentMap[section.type] || TextSection;
---

{Component && <Component section={section as any} lang={lang} />}
