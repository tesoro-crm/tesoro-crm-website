---
/**
 * Callout Section - Highlighted box for important points, tips, warnings
 * Variants: info (blue), success (green), warning (yellow), danger (red), tip (purple)
 */
import type { Language } from '../../../types/blog';

interface Props {
  section: any;
  lang: Language;
}

const { section, lang } = Astro.props;
const title = section.title?.[lang];
const items = section.items?.map((item: any) => item[lang]) || section.highlights?.map((h: any) => h[lang]);
const variant = section.variant || 'info';

// Tesoro brand color callout variants
const variantStyles = {
  info: {
    box: 'bg-blue-50',
    text: 'text-blue-900',
    border: 'var(--tesoro-blue-light)',
    icon: 'lightbulb'
  },
  success: {
    box: 'bg-emerald-50',
    text: 'text-emerald-900',
    border: 'var(--accent-success)',
    icon: 'check_circle'
  },
  warning: {
    box: 'bg-yellow-50',
    text: 'text-yellow-900',
    border: 'var(--tesoro-yellow)',
    icon: 'warning'
  },
  danger: {
    box: 'bg-red-50',
    text: 'text-red-900',
    border: 'var(--tesoro-red)',
    icon: 'error'
  },
  tip: {
    box: 'bg-orange-50',
    text: 'text-orange-900',
    border: 'var(--tesoro-orange)',
    icon: 'lightbulb'
  },
  insight: {
    box: 'bg-purple-50',
    text: 'text-purple-900',
    border: 'var(--tesoro-purple)',
    icon: 'ads_click'
  },
  update: {
    box: 'bg-pink-50',
    text: 'text-pink-900',
    border: 'var(--tesoro-pink)',
    icon: 'new_releases'
  }
};

const styles = variantStyles[variant as keyof typeof variantStyles];
---

<section class="mb-12" id={section.id}>
  {title && (
    <h2 class="font-[family-name:var(--font-decorative)] text-[1.75rem] font-bold text-gray-900 mb-6 leading-tight tracking-tight">
      {title}
    </h2>
  )}
  
  {items && items.length > 0 && (
    <div 
      class={`p-6 md:p-8 rounded-lg border-l-4 ${styles.box}`}
      style={`border-left-color: ${styles.border};`}
    >
      <ul class="space-y-4">
        {items.map((item: string) => (
          <li class={`relative pl-8 font-medium text-[1.125rem] leading-[1.75] ${styles.text}`}>
            <span class="icon absolute left-0 top-0 text-xl">{styles.icon}</span>
            {item}
          </li>
        ))}
      </ul>
    </div>
  )}
</section>
